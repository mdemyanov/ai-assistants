# Техники Prompt Engineering

Детальный справочник техник для создания эффективных промтов.

## Chain-of-Thought (CoT)

**Когда использовать:** Сложные рассуждения, анализ, многошаговые задачи.

**Как внедрить:**
```
Перед ответом:
1. Проанализируй [что именно]
2. Определи [какие факторы]
3. Сформулируй [вывод на основе чего]
```

**Пример в промте:**
> "При анализе запроса сначала определи тип проблемы, затем рассмотри возможные подходы, и только после этого предложи решение с обоснованием."

---

## Tree-of-Thoughts

**Когда использовать:** Многовариантный анализ, стратегические решения, сравнение альтернатив.

**Как внедрить:**
```
Для сложных решений:
1. Сгенерируй 2-3 альтернативных подхода
2. Оцени каждый по критериям [X, Y, Z]
3. Выбери оптимальный с обоснованием
```

---

## Few-Shot Learning

**Когда использовать:** Специфический формат вывода, нестандартный стиль, сложные паттерны.

**Как внедрить:**
```
## Примеры

**Запрос:** [типичный вход]
**Ответ:** [желаемый выход]

**Запрос:** [другой вход]
**Ответ:** [соответствующий выход]
```

**Количество примеров:**
- 2-3 для простых форматов
- 4-5 для сложных паттернов
- Включай edge cases

---

## Self-Reflection

**Когда использовать:** Критичные решения, проверка качества, высокие ставки.

**Как внедрить:**
```
После формирования ответа проверь:
- [ ] Соответствует ли запросу?
- [ ] Нет ли противоречий?
- [ ] Учтены ли все ограничения?
Если находишь проблемы — исправь перед выводом.
```

---

## Role-Playing

**Когда использовать:** Экспертный консалтинг, специфическая перспектива, творческие задачи.

**Как внедрить:**
```
Ты — [роль] с [N] лет опыта в [области].
Твоя специализация: [конкретика].
Ты подходишь к задачам с позиции [перспектива].
```

**Уровни глубины:**
- Базовый: "Ты эксперт по X"
- Средний: + опыт, специализация
- Глубокий: + методология, ценности, стиль мышления

---

## Structured Output

**Когда использовать:** Формализованные данные, интеграция с системами, consistency.

**Как внедрить:**
```
Формат ответа:
## [Секция 1]
[что включает]

## [Секция 2]
[что включает]
```

Или для JSON:
```
Ответь в формате JSON:
{
  "field1": "описание",
  "field2": "описание"
}
```

---

## Constraints (Ограничения)

**Когда использовать:** Контроль объёма, исключение нежелательного, фокусировка.

**Типы ограничений:**

| Тип | Пример |
|-----|--------|
| Объём | "Ответ не более 200 слов" |
| Фокус | "Только технические аспекты, без бизнес-контекста" |
| Исключения | "Не предлагай решения, требующие X" |
| Формат | "Без bullet points в основном тексте" |

---

## Meta-Prompting

**Когда использовать:** Адаптивные ассистенты, сложные multi-turn взаимодействия.

**Как внедрить:**
```
В начале взаимодействия определи:
- Уровень экспертизы пользователя
- Предпочитаемую глубину ответов
- Специфический контекст

Адаптируй последующие ответы соответственно.
```

---

## Constitutional AI / Self-Correction

**Когда использовать:** Этически чувствительные области, высокая ответственность.

**Как внедрить:**
```
Принципы (проверяй каждый ответ):
1. [Принцип 1]
2. [Принцип 2]

Если ответ нарушает принципы — переформулируй.
```

---

## Scaffolding

**Когда использовать:** Обучающие ассистенты, сложные процессы, поддержка новичков.

**Как внедрить:**
```
Адаптируй уровень помощи:
- Новичок: пошаговое руководство с объяснениями
- Средний: подсказки и проверочные вопросы  
- Эксперт: минимальное вмешательство, только по запросу
```

---

## Комбинирование техник

Типичные комбинации:

| Задача | Техники |
|--------|---------|
| Код-ревью | CoT + Self-Reflection + Structured Output |
| Творческое письмо | Role-Playing + Few-Shot + Constraints |
| Стратегический анализ | Tree-of-Thoughts + CoT + Self-Reflection |
| Обучение | Scaffolding + Few-Shot + Meta-Prompting |
