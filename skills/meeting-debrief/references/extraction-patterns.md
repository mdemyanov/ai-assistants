# Паттерны извлечения информации

Как находить договорённости, решения и задачи в транскриптах и переписке.

## Маркеры договорённостей

### Явные обязательства

| Паттерн | Пример | Что извлекать |
|---------|--------|---------------|
| «Я сделаю...» | «Я сделаю документ к пятнице» | Владелец + действие + срок |
| «Договорились, что...» | «Договорились, что Петров проверит» | Владелец + действие |
| «Беру на себя...» | «Беру на себя координацию» | Владелец + зона |
| «Обещаю...» | «Обещаю прислать до конца дня» | Владелец + действие + срок |
| «Возьму в работу...» | «Возьму в работу на этой неделе» | Владелец + срок |

### Назначение ответственности

| Паттерн | Пример |
|---------|--------|
| «[Имя], ты [действие]» | «Оля, ты пингуешь Артура» |
| «Это на [имя]» | «Это на Денисе» |
| «[Имя] отвечает за...» | «Сева отвечает за аналитику» |
| «Давай ты [действие]» | «Давай ты соберёшь статистику» |

### Сроки

| Паттерн | Интерпретация |
|---------|---------------|
| «до конца дня» | Сегодня |
| «завтра» | +1 день |
| «на этой неделе» | До конца текущей недели |
| «на следующей неделе» | Следующая неделя |
| «к [дата]» | Конкретная дата |
| «до [событие]» | К дате события |
| «после [событие]» | После даты события |
| «в ближайшее время» | ⚠️ Требует уточнения |
| «потом» / «позже» | ⚠️ Требует уточнения |

## Маркеры решений

### Явные решения

| Паттерн | Пример |
|---------|--------|
| «Решили, что...» | «Решили, что идём по варианту А» |
| «Принято решение...» | «Принято решение отложить релиз» |
| «Согласовали...» | «Согласовали бюджет» |
| «Утвердили...» | «Утвердили план» |
| «Одобрили...» | «Одобрили подход» |

### Неявные решения (требуют подтверждения)

| Паттерн | Что уточнить |
|---------|--------------|
| «Давайте так и сделаем» | Что именно? |
| «Ок, годится» | На что согласились? |
| «Хорошо, принято» | Что принято? |
| Молчаливое согласие | Было ли это решением? |

## Маркеры задач

### Action items

| Паттерн | Пример |
|---------|--------|
| «Нужно [действие]» | «Нужно обновить документацию» |
| «Надо [действие]» | «Надо проверить метрики» |
| «Следующий шаг — ...» | «Следующий шаг — встреча с командой» |
| «TODO: ...» | Явная пометка |

### Запросы

| Паттерн | Пример |
|---------|--------|
| «Пришли мне...» | «Пришли мне ссылку на документ» |
| «Скинь...» | «Скинь отчёт» |
| «Дай знать...» | «Дай знать, когда будет готово» |
| «Держи в курсе...» | «Держи в курсе по статусу» |

## Маркеры изменения целей/приоритетов

| Паттерн | Пример |
|---------|--------|
| «Теперь приоритет — ...» | Новый приоритет |
| «Фокус сместился на...» | Изменение фокуса |
| «Откладываем [задачу]» | Депроритизация |
| «Это больше не актуально» | Закрытие цели |
| «Добавляется новая задача» | Новая цель |

## Маркеры открытых вопросов

| Паттерн | Пример |
|---------|--------|
| «Нужно ещё подумать над...» | Открытый вопрос |
| «Вернёмся к этому...» | Отложенная тема |
| «Пока непонятно...» | Требует проработки |
| «Надо обсудить с [кем-то]» | Зависимость от третьих лиц |
| «Ждём информацию от...» | Блокер |

## Структура транскрипта Контур Толк

```
[Иванов И.] Текст реплики первого спикера.
[Петров П.] Текст реплики второго спикера.
```

**Извлечение:**
1. Определить участников по меткам `[Имя И.]`
2. Сопоставить с профилями в vault
3. Привязать договорённости к конкретным людям

## Структура извлечённых данных

### Договорённость

```yaml
owner: Имя Фамилия        # Кто отвечает
action: Описание          # Что сделать
deadline: YYYY-MM-DD      # Когда (или "уточнить")
context: Цитата/контекст  # Откуда извлечено
confidence: high/medium   # Уверенность
```

### Решение

```yaml
decision: Формулировка    # Что решили
participants: [список]    # Кто участвовал
context: Цитата           # Откуда извлечено
```

### Открытый вопрос

```yaml
question: Формулировка    # Что осталось открытым
blocker: Описание         # Что блокирует (если есть)
next_step: Действие       # Следующий шаг
```

## Уровни уверенности

| Уровень | Когда | Действие |
|---------|-------|----------|
| **High** | Явный паттерн + владелец + срок | Добавить в предложения |
| **Medium** | Паттерн есть, но нет владельца или срока | Добавить + пометить для уточнения |
| **Low** | Неявный паттерн, контекст неоднозначен | Задать уточняющий вопрос |

## Фильтрация шума

**Не извлекать:**
- Обсуждение без решения («может быть...», «а что если...»)
- Отменённые предложения («нет, давай лучше...»)
- Риторические вопросы
- Small talk

## Известные ошибки распознавания фамилий

При обработке транскриптов Контур Толк и других систем распознавания, проверяй фамилии по этой таблице:

| В транскрипте | Правильно | Кто |
|---|---|---|
| "Габришова", "Габрушева", "Кодаршитова" | **Габдрашитова** | Ольга Габдрашитова |
| "Глуктёнов" | **Галактионов** | Костя Галактионов |
| "Адарнин" | **Озорнин** | — |
| "Тетеррентьев", "Теретьев" | **Терентьев** | Егор Терентьев |
| "Потыхательна" | **Подхватилин** | Денис Подхватилин |
| "Armament Robot", "Эрмент Робот" | **RedMadRobot** | Компания |

**Правило:** Всегда сверяй фамилии из транскрипта с профилями в vault через `search_vault`.
