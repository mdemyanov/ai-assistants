---
name: nau-skill-creator
description: Создание эффективных skills для Claude Desktop через структурированный процесс. Используй когда пользователь просит создать skill, расширить возможности Claude, автоматизировать повторяющуюся задачу, или говорит "сделай мне skill для...", "нужен навык для...". Поддерживает workflow-based, task-based, reference-based и capabilities-based структуры.
---

# NAU Skill Creator

Создание высокоэффективных skills для Claude через 5-этапный процесс: понимание → планирование → инициализация → реализация → валидация.

## Core Principles

### Concise is Key

Context window — общий ресурс. Skill делит его с системным промтом, историей, другими skills и запросом пользователя.

**Правило:** Claude уже очень умён. Добавляй только то, чего Claude не знает. Каждый абзац должен оправдывать свои токены.

### Degrees of Freedom

Выбирай уровень детализации по хрупкости задачи:

| Уровень | Когда использовать | Формат |
|---------|-------------------|--------|
| Высокий | Много валидных подходов, зависит от контекста | Текст, эвристики |
| Средний | Есть предпочтительный паттерн, допустимы вариации | Псевдокод, параметры |
| Низкий | Операция хрупкая, консистентность критична | Готовые скрипты |

### Progressive Disclosure

Три уровня загрузки для экономии контекста:

1. **Metadata** (name + description) — всегда в контексте (~100 слов)
2. **SKILL.md body** — когда skill триггерится (<5k слов)
3. **Bundled resources** — по необходимости (безлимит)

## Workflow

### 1. Понимание задачи (обязательно)

Собери конкретные примеры использования:

- "Какую функциональность должен поддерживать skill?"
- "Приведи примеры запросов, которые будут триггерить этот skill"
- "Что пользователь скажет, чтобы вызвать этот skill?"

**Цель:** Чёткое понимание use cases перед проектированием.

### 2. Планирование содержимого

Для каждого примера определи:
1. Как бы ты выполнил задачу с нуля?
2. Какие скрипты/референсы/ассеты помогут при повторном выполнении?

| Тип ресурса | Когда добавлять | Пример |
|-------------|-----------------|--------|
| `scripts/` | Один и тот же код пишется многократно | `rotate_pdf.py` |
| `references/` | Нужна документация для контекста | `schema.md`, `api_docs.md` |
| `assets/` | Файлы используются в выводе | `template.pptx`, `logo.png` |

### 3. Инициализация

Используй скрипт `scripts/init_skill.py`:

```bash
python scripts/init_skill.py <skill-name> --path <output-directory>
```

Скрипт создаёт:
- SKILL.md с шаблоном и TODO-плейсхолдерами
- Директории `scripts/`, `references/`, `assets/` с примерами

### 4. Реализация

#### Выбери структуру SKILL.md

| Структура | Когда использовать |
|-----------|-------------------|
| **Workflow-Based** | Последовательные процессы (пошаговые процедуры) |
| **Task-Based** | Коллекции инструментов (разные операции) |
| **Reference-Based** | Стандарты, гайдлайны, спецификации |
| **Capabilities-Based** | Интегрированные системы (связанные фичи) |

#### Напиши frontmatter

```yaml
---
name: skill-name
description: [ЧТО делает + КОГДА использовать + конкретные триггеры]
---
```

**Критично:** Description — главный триггер активации. Включи все сценарии использования.

#### Напиши body

- Только необходимая информация
- Без дублирования между SKILL.md и references/
- Большие файлы (>10k слов) → references/ с паттернами поиска в SKILL.md

### 5. Валидация и упаковка

```bash
python scripts/quick_validate.py <skill-directory>
python scripts/package_skill.py <skill-directory> [output-dir]
```

**Валидация проверяет:**
- YAML frontmatter формат
- Обязательные поля (name, description)
- Naming conventions (hyphen-case, ≤64 символа)
- Description (≤1024 символа, без `<>`)

## Формат ответа

```markdown
## Понимание задачи
[Use cases и триггеры — 2-3 предложения]

## Ресурсы skill
[Какие scripts/references/assets нужны и почему]

## SKILL.md

[Полный текст]

## Дополнительные файлы
[Содержимое scripts/, references/, assets/ если нужны]

## Следующие шаги
[Инструкции по установке и тестированию]
```

## Антипаттерны

- ❌ README.md, CHANGELOG.md и прочие вспомогательные файлы
- ❌ Дублирование информации между SKILL.md и references/
- ❌ "When to Use This Skill" в body (это должно быть в description)
- ❌ SKILL.md >500 строк без разделения на references/
- ❌ Размытый description без конкретных триггеров

## Расширенные возможности

### Субагенты (Subagents)

Для задач, требующих автономной многошаговой работы, skill может делегировать к субагенту:

```
Task tool:
  subagent_type: "my-subagent"
  prompt: "[детали задачи]"
```

> Детали: `references/subagents.md`

### Хуки (Hooks)

Для автоматизации до/после операций используй хуки:

```bash
.claude/hooks/
├── pre-tool/validate-edit.sh    # Перед Edit/Write
├── post-tool/format-code.sh     # После Edit/Write
└── user-prompt-submit/enrich.sh # При отправке сообщения
```

> Детали: `references/hooks.md`

## Ресурсы

- `references/anatomy.md` — детальная анатомия skill с примерами
- `references/patterns.md` — паттерны структур и вывода
- `references/subagents.md` — создание субагентов для Task tool
- `references/hooks.md` — хуки для автоматизации
- `assets/skill-template.md` — шаблон SKILL.md
- `scripts/init_skill.py` — инициализация нового skill
- `scripts/quick_validate.py` — валидация skill
